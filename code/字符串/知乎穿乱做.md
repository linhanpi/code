---
title: 知乎穿乱做
description: 乱做知乎穿
katex: true
tags:
  - 知乎穿
categories:
  - 知乎穿
abbrlink: zifuchuanluanzuo
sticky: 2
swiper_index: 2
date: 2023-05-22 21:28:03
updated: 2023-05-22 22:00:00
cover: https://cdn.luogu.com.cn/upload/image_hosting/2mc45zx1.png
---

>

##### [P2414 阿狸的打字机](https://www.luogu.com.cn/problem/P2414)

> 给出一颗 Trie 树， $q$ 次询问 $x$ 代表的字符串在 $y$ 代表的中出现了多少次
> ${1\le n\le 10^{5},\ 1\le q \le 10^{5}}$
> 难度评分：2

板子题，对 $x$ 的串的所有结点打上 $+1$ 标记，转化为 fail 树上对于 $y$ 结束点的子树给定颜色数个数。离线，将询问对 $x$ 分类，将 fail 树拍平成 dfs 序，用树状数组维护单点加区间求和
